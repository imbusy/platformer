# WebGPU Sprite Demo

A 2D sprite demo built with C compiled to WebAssembly, using WebGPU for rendering.

## Features

- Hardware-accelerated 2D rendering using WebGPU
- Keyboard-controlled sprite movement
- Smooth rotation and movement physics
- Screen wrapping (sprite reappears on opposite side)

## Controls

| Key | Action |
|-----|--------|
| ↑ (Up Arrow) | Move forward |
| ↓ (Down Arrow) | Move backward |
| ← (Left Arrow) | Rotate left |
| → (Right Arrow) | Rotate right |

## Prerequisites

- **Emscripten SDK** (for compiling C to WebAssembly)
- **Python 3** (for the development server)
- **Modern browser** with WebGPU support:
  - Chrome 113+ (recommended)
  - Edge 113+
  - Firefox Nightly (with flags)

## Building

1. Install Emscripten SDK:
   ```bash
   git clone https://github.com/emscripten-core/emsdk.git
   cd emsdk
   ./emsdk install latest
   ./emsdk activate latest
   source ./emsdk_env.sh
   ```

2. Build the project:
   ```bash
   make
   ```

3. Start the development server:
   ```bash
   make serve
   ```

4. Open your browser and navigate to `http://localhost:8080`

## Project Structure

```
platformer/
├── Makefile          # Build configuration
├── README.md         # This file
├── src/
│   └── main.c        # Main C source with WebGPU rendering
└── build/
    ├── index.html    # Web page with UI
    ├── game.js       # Generated by Emscripten
    └── game.wasm     # Generated by Emscripten
```

## Technical Details

### Architecture

- **C/WASM**: Core game logic and WebGPU API calls
- **JavaScript**: Keyboard input handling, browser integration
- **WGSL**: GPU shaders for sprite rendering

### Rendering

The sprite is rendered as a procedural arrow shape using a fragment shader:
- No external textures required
- Arrow indicates the direction the sprite is facing
- Background is a solid dark blue-gray color

### Physics

- Movement is frame-rate independent using delta time
- Sprite moves in the direction it's facing
- Speed: 200 pixels/second
- Rotation speed: ~172 degrees/second (3 radians/second)

## Browser Compatibility

WebGPU is a new API and requires a modern browser:

| Browser | Minimum Version | Notes |
|---------|----------------|-------|
| Chrome | 113 | Full support |
| Edge | 113 | Full support |
| Firefox | Nightly | Requires `dom.webgpu.enabled` flag |
| Safari | 17+ | Limited support |

## License

MIT License - feel free to use this code for learning and projects.
